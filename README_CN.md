# tavily-open

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)

ä¸­æ–‡æ–‡æ¡£ | [English](README.md)

> ğŸ” å¼€æºçš„æ™ºèƒ½æœç´¢ä¸ç½‘é¡µçˆ¬å–å·¥å…· - Tavily çš„å¼€æºæ›¿ä»£æ–¹æ¡ˆ

## ğŸ“– é¡¹ç›®ç®€ä»‹

**tavily-open** æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¼€æºæœç´¢å’Œç½‘é¡µçˆ¬å–å·¥å…·ï¼ŒåŸºäº SearXNG å’Œ Crawl4AI æ„å»ºã€‚å®ƒæä¾›äº†ä¸ Tavily ç±»ä¼¼çš„æœç´¢å’Œç½‘é¡µå†…å®¹æå–èƒ½åŠ›ï¼ŒåŒæ—¶å®Œå…¨å¼€æºã€å¯å®šåˆ¶ï¼Œå¹¶æ”¯æŒåˆ†å¸ƒå¼ç¼“å­˜ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ” **æ™ºèƒ½æœç´¢** - é€šè¿‡ SearXNG å…ƒæœç´¢å¼•æ“è·å–é«˜è´¨é‡æœç´¢ç»“æœ
- ğŸ•·ï¸ **æ™ºèƒ½çˆ¬å–** - ä½¿ç”¨ Crawl4AI è¿›è¡Œé«˜æ•ˆçš„ç½‘é¡µå†…å®¹æå–
- ğŸš€ **åˆ†å¸ƒå¼ç¼“å­˜** - åŸºäº Redis çš„åˆ†å¸ƒå¼ç¼“å­˜ï¼Œå‡å°‘é‡å¤çˆ¬å–ï¼Œæå‡æ€§èƒ½
- ğŸ¯ **RESTful API** - ç®€æ´æ˜“ç”¨çš„ API æ¥å£ï¼Œæ”¯æŒ Swagger æ–‡æ¡£
- âš™ï¸ **é«˜åº¦å¯å®šåˆ¶** - çµæ´»é…ç½®æœç´¢å¼•æ“ã€çˆ¬è™«å‚æ•°å’Œç¼“å­˜ç­–ç•¥
- ğŸ”„ **å¹¶å‘å¤„ç†** - å¤šçº¿ç¨‹å¹¶è¡Œçˆ¬å–ï¼Œæé«˜ååé‡
- ğŸ³ **Docker æ”¯æŒ** - ä¸€é”®éƒ¨ç½²ï¼ŒåŒ…å«æ‰€æœ‰ä¾èµ–
- ğŸ§ª **å®Œæ•´æµ‹è¯•** - å…¨é¢çš„æµ‹è¯•å¥—ä»¶å’Œä»£ç è´¨é‡å·¥å…·

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å®¢æˆ·ç«¯åº”ç”¨                                   â”‚
â”‚                     (Web App / CLI / SDK)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ HTTP POST /search
                                 â”‚ { query, limit, engines }
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        tavily-open API æœåŠ¡                          â”‚
â”‚                      (FastAPI + Uvicorn)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                         â”‚
                    â–¼                         â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  SearXNG æœç´¢    â”‚      â”‚   Redis ç¼“å­˜     â”‚
         â”‚   å…ƒæœç´¢å¼•æ“      â”‚      â”‚   åˆ†å¸ƒå¼å­˜å‚¨      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                         â”‚
                  â”‚ è¿”å› URL åˆ—è¡¨            â”‚ ç¼“å­˜å‘½ä¸­æ£€æŸ¥
                  â”‚ + å…ƒæ•°æ®                â”‚
                  â–¼                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
         â”‚  URL å»é‡ä¸       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚  ç¼“å­˜æŸ¥è¯¢         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ éœ€è¦çˆ¬å–çš„ URL
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Crawl4AI çˆ¬è™«æ±  â”‚
         â”‚   (å¤šçº¿ç¨‹å¹¶å‘)    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ æå–ç½‘é¡µå†…å®¹
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  å†…å®¹è¿‡æ»¤ä¸å¤„ç†   â”‚
         â”‚  (æ¸…æ´— + æ ¼å¼åŒ–)  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ å­˜å‚¨åˆ°ç¼“å­˜
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  è¿”å›ç»“æœ + ç»Ÿè®¡  â”‚
         â”‚  (JSON Response)  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”„ å·¥ä½œæµç¨‹è¯¦è§£

1. **æ¥æ”¶è¯·æ±‚** - å®¢æˆ·ç«¯å‘é€æœç´¢æŸ¥è¯¢åŠå‚æ•°ï¼ˆå…³é”®è¯ã€ç»“æœæ•°é‡ã€æœç´¢å¼•æ“é…ç½®ï¼‰
2. **ç¼“å­˜æ£€æŸ¥** - ç³»ç»Ÿé¦–å…ˆæ£€æŸ¥ Redis ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨å·²çˆ¬å–çš„å†…å®¹ï¼ˆå¦‚å¯ç”¨ç¼“å­˜ï¼‰
3. **æœç´¢é˜¶æ®µ** - å°†æŸ¥è¯¢å‘é€åˆ° SearXNGï¼Œè·å–ç›¸å…³ URL åˆ—è¡¨å’Œå…ƒæ•°æ®
4. **URL å»é‡** - å¯¹æœç´¢ç»“æœè¿›è¡Œå»é‡ï¼Œå¹¶æŸ¥è¯¢ç¼“å­˜å‘½ä¸­æƒ…å†µ
5. **å¹¶è¡Œçˆ¬å–** - ä½¿ç”¨ Crawl4AI çº¿ç¨‹æ± å¹¶å‘çˆ¬å–æœªç¼“å­˜çš„ URL
6. **å†…å®¹å¤„ç†** - æå–ã€æ¸…æ´—å’Œæ ¼å¼åŒ–ç½‘é¡µå†…å®¹ï¼Œè¿‡æ»¤ä½è´¨é‡å†…å®¹
7. **ç¼“å­˜å­˜å‚¨** - å°†æˆåŠŸçˆ¬å–çš„å†…å®¹å­˜å‚¨åˆ° Redisï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´
8. **è¿”å›ç»“æœ** - è¿”å›å¤„ç†åçš„å†…å®¹åŠç»Ÿè®¡ä¿¡æ¯ï¼ˆç¼“å­˜å‘½ä¸­æ•°ã€æ–°çˆ¬å–æ•°ã€å¤±è´¥æ•°ï¼‰

### ğŸ§© æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | è¯´æ˜ | æŠ€æœ¯æ ˆ |
|------|------|--------|
| **API æœåŠ¡å™¨** | RESTful API æ¥å£ | FastAPI + Uvicorn |
| **æœç´¢å¼•æ“** | éšç§å‹å¥½çš„å…ƒæœç´¢ | SearXNG |
| **çˆ¬è™«å¼•æ“** | æ™ºèƒ½å†…å®¹æå– | Crawl4AI + Playwright |
| **ç¼“å­˜å±‚** | åˆ†å¸ƒå¼ç¼“å­˜å­˜å‚¨ | Redis |
| **å¹¶å‘å¤„ç†** | å¤šçº¿ç¨‹çˆ¬å– | ThreadPoolExecutor |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ å‰ç½®è¦æ±‚

- Python 3.8+
- SearXNG å®ä¾‹ï¼ˆæœ¬åœ°æˆ–è¿œç¨‹ï¼‰
- Playwright æµè§ˆå™¨ï¼ˆå®‰è£…è„šæœ¬è‡ªåŠ¨å¤„ç†ï¼‰
- Redisï¼ˆå¯é€‰ï¼Œç”¨äºç¼“å­˜ - Docker éƒ¨ç½²è‡ªåŠ¨åŒ…å«ï¼‰

### ğŸ³ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ Docker Compose ä¸€é”®éƒ¨ç½²æ‰€æœ‰æœåŠ¡ï¼š

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/Owoui/SearXNG-Crawl4AI.git
cd SearXNG-Crawl4AI

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# æ ¹æ®éœ€è¦ç¼–è¾‘ .env æ–‡ä»¶

# 3. å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåº”ç”¨ + Redisï¼‰
docker-compose up -d

# 4. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# 5. åœæ­¢æœåŠ¡
docker-compose down
```

æœåŠ¡å°†åœ¨ `http://localhost:3000` ä¸Šè¿è¡Œ

### ğŸ’» æ‰‹åŠ¨å®‰è£…

#### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/Owoui/SearXNG-Crawl4AI.git
cd SearXNG-Crawl4AI
```

#### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

#### 3. å®‰è£…ä¾èµ–

```bash
# ç”Ÿäº§ç¯å¢ƒ
pip install -e .

# å¼€å‘ç¯å¢ƒï¼ˆåŒ…å«æµ‹è¯•å’Œä»£ç è´¨é‡å·¥å…·ï¼‰
pip install -e ".[dev]"
```

#### 4. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½® SearXNGã€Redis ç­‰å‚æ•°
```

#### 5. å¯åŠ¨æœåŠ¡

```bash
# ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·
searcrawl

# æˆ–ç›´æ¥ä½¿ç”¨ Python
python -m searcrawl.main
```

æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `http://0.0.0.0:3000`

> **æ³¨æ„ï¼š** åŒ…åä¿æŒä¸º `searcrawl` ä»¥ç¡®ä¿å‘åå…¼å®¹æ€§ï¼Œä½†é¡¹ç›®ç°å·²æ›´åä¸º **tavily-open**ã€‚

## ğŸ“š ä½¿ç”¨æŒ‡å—

### ğŸ”Œ API ç«¯ç‚¹

#### æœç´¢æ¥å£

```http
POST /search
Content-Type: application/json
```

**è¯·æ±‚ç¤ºä¾‹ï¼š**

```json
{
  "query": "äººå·¥æ™ºèƒ½æœ€æ–°è¿›å±•",
  "limit": 10,
  "disabled_engines": "wikipedia__general,currency__general,wikidata__general",
  "enabled_engines": "baidu__general,bing__general"
}
```

**å‚æ•°è¯´æ˜ï¼š**

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `query` | string | âœ… | æœç´¢å…³é”®è¯ |
| `limit` | integer | âŒ | è¿”å›ç»“æœæ•°é‡ï¼ˆé»˜è®¤ï¼š10ï¼‰ |
| `disabled_engines` | string | âŒ | ç¦ç”¨çš„æœç´¢å¼•æ“ï¼ˆé€—å·åˆ†éš”ï¼‰ |
| `enabled_engines` | string | âŒ | å¯ç”¨çš„æœç´¢å¼•æ“ï¼ˆé€—å·åˆ†éš”ï¼‰ |

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "results": [
    {
      "content": "äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯...",
      "reference": "https://example.com/ai-article"
    },
    {
      "content": "æœ€æ–°çš„ GPT-4 æ¨¡å‹å±•ç¤ºäº†å¼ºå¤§çš„èƒ½åŠ›...",
      "reference": "https://example.com/gpt4-news"
    }
  ],
  "success_count": 8,
  "failed_urls": [
    "https://example.com/timeout-page"
  ],
  "cache_hits": 3,
  "newly_crawled": 5
}
```

**å“åº”å­—æ®µè¯´æ˜ï¼š**

| å­—æ®µ | è¯´æ˜ |
|------|------|
| `results` | çˆ¬å–çš„å†…å®¹æ•°ç»„ï¼ŒåŒ…å«å†…å®¹å’Œæ¥æº URL |
| `success_count` | æˆåŠŸè¿”å›çš„ç»“æœæ€»æ•°ï¼ˆç¼“å­˜ + æ–°çˆ¬å–ï¼‰ |
| `failed_urls` | çˆ¬å–å¤±è´¥çš„ URL åˆ—è¡¨ |
| `cache_hits` | ä»ç¼“å­˜ä¸­è·å–çš„ç»“æœæ•°ï¼ˆå¯ç”¨ç¼“å­˜æ—¶ï¼‰ |
| `newly_crawled` | æ–°çˆ¬å–çš„ç»“æœæ•°ï¼ˆå¯ç”¨ç¼“å­˜æ—¶ï¼‰ |

### ğŸ“– API æ–‡æ¡£

æœåŠ¡å¯åŠ¨åï¼Œè®¿é—®ä»¥ä¸‹åœ°å€æŸ¥çœ‹äº¤äº’å¼ API æ–‡æ¡£ï¼š

- **Swagger UI**: `http://localhost:3000/docs`
- **ReDoc**: `http://localhost:3000/redoc`

### ğŸ”§ é…ç½®é€‰é¡¹

é€šè¿‡ `.env` æ–‡ä»¶é…ç½®ç³»ç»Ÿå‚æ•°ï¼š

```env
# ========== SearXNG é…ç½® ==========
SEARXNG_HOST=localhost
SEARXNG_PORT=8080
SEARXNG_BASE_PATH=/search

# ========== API æœåŠ¡é…ç½® ==========
API_HOST=0.0.0.0
API_PORT=3000

# ========== çˆ¬è™«é…ç½® ==========
DEFAULT_SEARCH_LIMIT=10          # é»˜è®¤æœç´¢ç»“æœæ•°é‡
CONTENT_FILTER_THRESHOLD=0.6     # å†…å®¹è¿‡æ»¤é˜ˆå€¼
WORD_COUNT_THRESHOLD=10          # æœ€å°å­—æ•°é˜ˆå€¼
CRAWLER_POOL_SIZE=4              # çˆ¬è™«çº¿ç¨‹æ± å¤§å°

# ========== ç¼“å­˜é…ç½® ==========
CACHE_ENABLED=true               # å¯ç”¨/ç¦ç”¨ç¼“å­˜
REDIS_URL=redis://localhost:6379/0
CACHE_TTL_HOURS=24               # ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆå°æ—¶ï¼‰

# ========== æœç´¢å¼•æ“é…ç½® ==========
DISABLED_ENGINES=wikipedia__general,currency__general,wikidata__general
ENABLED_ENGINES=baidu__general,bing__general
```

### ğŸ’¾ ç¼“å­˜é…ç½®è¯¦è§£

tavily-open æ”¯æŒåŸºäº Redis çš„åˆ†å¸ƒå¼ç¼“å­˜ï¼Œå¯æ˜¾è‘—æå‡æ€§èƒ½ï¼š

- **CACHE_ENABLED**: å¯ç”¨/ç¦ç”¨ç¼“å­˜åŠŸèƒ½ï¼ˆtrue/falseï¼‰
- **REDIS_URL**: Redis è¿æ¥ URLï¼ˆé»˜è®¤ï¼šredis://localhost:6379/0ï¼‰
- **CACHE_TTL_HOURS**: ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œå•ä½å°æ—¶ï¼ˆé»˜è®¤ï¼š24ï¼‰

**ç¼“å­˜ä¼˜åŠ¿ï¼š**
- âœ… å‡å°‘é‡å¤çˆ¬å–ï¼ŒèŠ‚çœå¸¦å®½å’Œæ—¶é—´
- âœ… å¤šå®ä¾‹å…±äº«ç¼“å­˜ï¼Œæé«˜æ•´ä½“æ•ˆç‡
- âœ… è‡ªåŠ¨è¿‡æœŸæœºåˆ¶ï¼Œä¿è¯æ•°æ®æ–°é²œåº¦

è¯¦ç»†çš„ç¼“å­˜å®ç°æ–‡æ¡£è¯·å‚è€ƒï¼š[`CACHE_IMPLEMENTATION.md`](CACHE_IMPLEMENTATION.md)

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ğŸ“ é¡¹ç›®ç»“æ„

```
tavily-open/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ searcrawl/
â”‚       â”œâ”€â”€ __init__.py           # åŒ…åˆå§‹åŒ–
â”‚       â”œâ”€â”€ cache.py              # Redis ç¼“å­˜ç®¡ç†å™¨
â”‚       â”œâ”€â”€ config.py             # é…ç½®åŠ è½½æ¨¡å—
â”‚       â”œâ”€â”€ crawler.py            # çˆ¬è™«æ ¸å¿ƒé€»è¾‘
â”‚       â”œâ”€â”€ logger.py             # æ—¥å¿—æ¨¡å—
â”‚       â””â”€â”€ main.py               # API æœåŠ¡å…¥å£
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_config.py            # é…ç½®æµ‹è¯•
â”‚   â”œâ”€â”€ test_crawler.py           # çˆ¬è™«æµ‹è¯•
â”‚   â””â”€â”€ test_api.py               # API æµ‹è¯•
â”œâ”€â”€ .env.example                  # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore                    # Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ .pre-commit-config.yaml       # Pre-commit é’©å­é…ç½®
â”œâ”€â”€ docker-compose.yml            # Docker Compose é…ç½®
â”œâ”€â”€ Dockerfile                    # Docker é•œåƒå®šä¹‰
â”œâ”€â”€ pyproject.toml                # é¡¹ç›®å…ƒæ•°æ®å’Œä¾èµ–
â”œâ”€â”€ requirements.txt              # ç”Ÿäº§ä¾èµ–
â”œâ”€â”€ requirements-dev.txt          # å¼€å‘ä¾èµ–
â”œâ”€â”€ CACHE_IMPLEMENTATION.md       # ç¼“å­˜ç³»ç»Ÿæ–‡æ¡£
â”œâ”€â”€ LICENSE                       # MIT è®¸å¯è¯
â””â”€â”€ README.md                     # é¡¹ç›®æ–‡æ¡£
```

### ğŸ”¨ å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# 1. å®‰è£…å¼€å‘ä¾èµ–
pip install -e ".[dev]"

# 2. å®‰è£… pre-commit é’©å­
pre-commit install

# 3. è¿è¡Œæµ‹è¯•
pytest

# 4. è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=searcrawl --cov-report=html

# 5. ä»£ç æ ¼å¼åŒ–
black src/ tests/

# 6. ä»£ç æ£€æŸ¥
ruff check src/ tests/

# 7. ç±»å‹æ£€æŸ¥
mypy src/
```

### ğŸ§ª ä»£ç è´¨é‡å·¥å…·

| å·¥å…· | ç”¨é€” | å‘½ä»¤ |
|------|------|------|
| **Black** | ä»£ç æ ¼å¼åŒ– | `black src/ tests/` |
| **Ruff** | å¿«é€Ÿ Python ä»£ç æ£€æŸ¥ | `ruff check src/ tests/` |
| **MyPy** | é™æ€ç±»å‹æ£€æŸ¥ | `mypy src/` |
| **isort** | å¯¼å…¥æ’åº | `isort src/ tests/` |
| **pytest** | æµ‹è¯•æ¡†æ¶ | `pytest` |
| **pre-commit** | Git é’©å­ | `pre-commit run --all-files` |

### ğŸ”§ æ‰©å±•åŠŸèƒ½

æ ¹æ®éœ€æ±‚ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶æ¥æ‰©å±•åŠŸèƒ½ï¼š

- [`src/searcrawl/cache.py`](src/searcrawl/cache.py) - æ‰©å±•ç¼“å­˜ç­–ç•¥æˆ–æ·»åŠ æ–°çš„ç¼“å­˜åç«¯
- [`src/searcrawl/crawler.py`](src/searcrawl/crawler.py) - æ·»åŠ æ–°çš„çˆ¬å–ç­–ç•¥æˆ–å†…å®¹å¤„ç†æ–¹æ³•
- [`src/searcrawl/main.py`](src/searcrawl/main.py) - æ·»åŠ æ–°çš„ API ç«¯ç‚¹
- [`src/searcrawl/config.py`](src/searcrawl/config.py) - æ·»åŠ æ–°çš„é…ç½®å‚æ•°

### ğŸ“¦ æ„å»ºåˆ†å‘åŒ…

```bash
# æ„å»ºæºç åŒ…å’Œ wheel åŒ…
python -m build

# æ„å»ºäº§ç‰©å°†åœ¨ dist/ ç›®å½•ä¸­
```

## ğŸš¢ éƒ¨ç½²è¯´æ˜

### SearXNG é…ç½®è¦ç‚¹

éƒ¨ç½² SearXNG æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„ä»¥ä¸‹é…ç½®ï¼š

åœ¨ SearXNG çš„ `settings.yml` é…ç½®æ–‡ä»¶ä¸­ï¼Œæ·»åŠ æˆ–ä¿®æ”¹ `search` éƒ¨åˆ†çš„ `formats` é…ç½®ï¼š

```yaml
search:
  formats:
    - html
    - json
```

æ­¤é…ç½®ç¡®ä¿ SearXNG è¿”å› JSON æ ¼å¼çš„æœç´¢ç»“æœï¼Œè¿™æ˜¯ tavily-open æ­£å¸¸å·¥ä½œçš„å¿…è¦æ¡ä»¶ã€‚

### ç”Ÿäº§ç¯å¢ƒå»ºè®®

- âœ… ä½¿ç”¨ Docker Compose éƒ¨ç½²ï¼Œä¾¿äºç®¡ç†
- âœ… å¯ç”¨ Redis ç¼“å­˜ä»¥æå‡æ€§èƒ½
- âœ… é…ç½®é€‚å½“çš„ `CRAWLER_POOL_SIZE` ä»¥å¹³è¡¡æ€§èƒ½å’Œèµ„æº
- âœ… è®¾ç½®åˆç†çš„ `CACHE_TTL_HOURS` ä»¥å¹³è¡¡æ–°é²œåº¦å’Œæ•ˆç‡
- âœ… ä½¿ç”¨åå‘ä»£ç†ï¼ˆå¦‚ Nginxï¼‰å¤„ç† SSL å’Œè´Ÿè½½å‡è¡¡

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼å¦‚æœæ‚¨æƒ³ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. **Fork ä»“åº“**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **æäº¤æ›´æ”¹** (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€åˆ°åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
5. **åˆ›å»º Pull Request**

### è´¡çŒ®è¦æ±‚

- âœ… æ›´æ–°ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹
- âœ… éµå¾ªä»£ç é£æ ¼ï¼ˆç”± pre-commit é’©å­å¼ºåˆ¶æ‰§è¡Œï¼‰
- âœ… æ›´æ–°ç›¸å…³æ–‡æ¡£
- âœ… ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®æ„å»ºï¼š

- **[SearCrawl](https://github.com/Owoui/SearXNG-Crawl4AI)** - æœ¬é¡¹ç›®çš„å‰èº«ï¼Œæ„Ÿè°¢åŸå§‹é¡¹ç›®çš„è´¡çŒ®
- **[SearXNG](https://github.com/searxng/searxng)** - éšç§å‹å¥½çš„å…ƒæœç´¢å¼•æ“
- **[Crawl4AI](https://github.com/unclecode/crawl4ai)** - ä¸º AI è®¾è®¡çš„ç½‘é¡µçˆ¬å–åº“
- **[FastAPI](https://fastapi.tiangolo.com/)** - ç°ä»£ã€å¿«é€Ÿçš„ Web æ¡†æ¶
- **[Redis](https://redis.io/)** - é«˜æ€§èƒ½çš„å†…å­˜æ•°æ®å­˜å‚¨

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™äº›é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

## ğŸ“ è”ç³»æ–¹å¼

- **Issues**: [GitHub Issues](https://github.com/Owoui/SearXNG-Crawl4AI/issues)
- **Discussions**: [GitHub Discussions](https://github.com/Owoui/SearXNG-Crawl4AI/discussions)

## ğŸ—ºï¸ è·¯çº¿å›¾

- [ ] æ”¯æŒæ›´å¤šæœç´¢å¼•æ“
- [ ] æ·»åŠ  GraphQL API
- [ ] å®ç°ç»“æœæ’åºå’Œç›¸å…³æ€§è¯„åˆ†
- [ ] æ”¯æŒè‡ªå®šä¹‰å†…å®¹æå–è§„åˆ™
- [ ] æ·»åŠ  Web UI ç®¡ç†ç•Œé¢
- [ ] æ”¯æŒæ›´å¤šç¼“å­˜åç«¯ï¼ˆMemcachedã€DynamoDB ç­‰ï¼‰
- [ ] å®ç°åˆ†å¸ƒå¼çˆ¬å–é›†ç¾¤

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸**

Made with â¤ï¸ by the tavily-open community

</div>
